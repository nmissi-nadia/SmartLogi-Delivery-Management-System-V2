server.port=8084

# ================================
# DATABASE
# ================================
spring.datasource.url=jdbc:postgresql://localhost:5432/smrt
spring.datasource.username=postgres
spring.datasource.password=ycode
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=none

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ================================
# LIQUIBASE
# ================================
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yml

# ================================
# LOGGING
# ================================
logging.level.root=INFO
logging.level.com.smart.controller=DEBUG
logging.level.com.smart.service=DEBUG
logging.level.com.smart.repository=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.com.smart.security=DEBUG
logging.level.org.springframework.web=DEBUG

logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ================================
# ACTUATOR
# ================================
#management.endpoints.web.exposure.include=*

# ================================
# JWT CONFIG
# ================================
# HS256 requires a key of 32+ bytes (44+ chars Base64-like). Here is a valid 64-char key.
app.jwtSecret=Qb5YsP9Umk38vN2Gh4AtL92bXkE57Fs9Rn2LpA0wT8DcR4fHkZp1Wx8LpQh2RsF

# 24h in milliseconds
app.jwtExpirationInMs=86400000

# ================================
# OAuth2 Client (social providers)
# Use environment variables in production and set these values in Docker
# Example: export OAUTH2_GOOGLE_CLIENT_ID=... OAUTH2_GOOGLE_CLIENT_SECRET=...


# Google
spring.security.oauth2.client.registration.google.client-id=${OAUTH2_GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${OAUTH2_GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/google
spring.security.oauth2.client.registration.google.scope=openid,profile,email
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.google.user-info-uri=https://openidconnect.googleapis.com/v1/userinfo
spring.security.oauth2.client.provider.google.user-name-attribute=sub

# Facebook
spring.security.oauth2.client.registration.facebook.client-id=${OAUTH2_FACEBOOK_CLIENT_ID:#{null}}
spring.security.oauth2.client.registration.facebook.client-secret=${OAUTH2_FACEBOOK_CLIENT_SECRET:#{null}}
spring.security.oauth2.client.registration.facebook.redirect-uri={baseUrl}/login/oauth2/code/facebook
spring.security.oauth2.client.registration.facebook.scope=email,public_profile

# Apple and Okta configurations are omitted by default. Configure them


spring.security.oauth2.client.provider.okta.authorization-uri=https://dev-mql2wuicvmlclmlu.us.auth0.com/authorize
spring.security.oauth2.client.provider.okta.token-uri=https://dev-mql2wuicvmlclmlu.us.auth0.com/oauth/token
spring.security.oauth2.client.provider.okta.user-info-uri=https://dev-mql2wuicvmlclmlu.us.auth0.com/userinfo
spring.security.oauth2.client.provider.okta.jwk-set-uri=https://dev-mql2wuicvmlclmlu.us.auth0.com/.well-known/jwks.json
spring.security.oauth2.client.provider.okta.user-name-attribute=sub

spring.security.oauth2.client.registration.okta.client-id=YcU8uwK1DjZborznma0HgSBNXEvr1ekH
spring.security.oauth2.client.registration.okta.client-secret=Uz04sD7P50WUrFH5vlhwO4N0qDUjoy4_DDbau2e7SzGlPW0Z2eNdffyEh0OmI3QF
spring.security.oauth2.client.registration.okta.scope=openid,profile,email
spring.security.oauth2.client.registration.okta.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.okta.authorization-grant-type=authorization_code

# Frontend base URL used in redirect-uri template; override in env if needed
app.frontend.base-url=http://localhost:4200

